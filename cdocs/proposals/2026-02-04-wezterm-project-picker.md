---
first_authored:
  by: "@claude-haiku-4-5-20251001"
  at: 2026-02-04T00:00:00-08:00
type: proposal
state: live
status: request_for_proposal
tags: [wezterm, plugin, keybinding, project-picker, ui]
---

# WezTerm Project Picker Feature

> BLUF: The lace wezterm plugin currently exposes hardcoded Leader+D and Leader+W keybindings for connecting to specific devcontainers. When multiple projects load this plugin, keybinding collisions occur. Implement a project picker that shows available projects/devcontainers on-demand, allowing users to select which one to connect to, eliminating the need for project-specific keybindings.

## Objective

Enable users to discover and connect to available devcontainers via an interactive picker UI, eliminating keybinding collisions when the wezterm plugin is loaded by multiple projects with different configurations.

## Scope

- Design and implement a project picker UI within wezterm
- Determine the mechanism for discovering configured projects and running devcontainers
- Establish how project metadata (names, descriptions, connection details) is surfaced in the picker
- Define the keybinding interaction pattern (single unified key vs. mode-based selection)
- Integrate picker with the existing wezterm plugin architecture and worktree picker pattern
- Handle both configured projects (in devcontainer.json) and running instances

## Open Questions

1. **Devcontainer Detection**: How should the picker identify which devcontainers are available?
   - Query the devcontainer API directly for running containers?
   - Read from a registry file (e.g., `~/.lace/running-containers.json`)?
   - Combine both (running instances + configured projects)?
   - Should it detect devcontainers from all projects in a workspace, or only the current project?

2. **Project Identification**: How should projects be identified and named in the picker?
   - Use the `name` field from `devcontainer.json`?
   - Infer from directory/workspace name?
   - Read a custom field like `customizations.lace.displayName`?
   - Show both project name and workspace path for disambiguation?

3. **Scope of Listing**: Should the picker show:
   - All configured projects (from devcontainer.json files across the workspace)?
   - Only running devcontainers (already started instances)?
   - Running devcontainers plus configured-but-not-running projects?
   - Multiple workspace folders simultaneously, or current workspace only?

4. **Keybinding Design**: What interaction pattern should trigger the picker?
   - Single unified keybinding (e.g., Leader+P for "picker") that lists all available projects?
   - Multi-mode pattern (e.g., Leader+C opens command mode, then choose destination)?
   - Leverage existing worktree picker mechanism with an extension?
   - Fallback behavior: what happens if no projects are available or all are filtered?

5. **Integration with Worktree Picker**: The lace plugin already has a worktree picker pattern. Should:
   - Project picker be a separate UI from the worktree picker?
   - Projects and worktrees be combined into a unified picker?
   - Worktree picker dispatch to project picker when a project with a devcontainer is selected?

6. **Metadata Display**: What information should appear in the picker for each project?
   - Project/workspace name only?
   - Project name + container status (running/stopped)?
   - Project name + description + port/connection info?
   - Project name + path?

7. **Connection Flow**: After selecting a project, what should happen?
   - Automatically open an SSH session to the container if running, or start + connect if stopped?
   - Show a sub-menu of connection options (SSH, shell forward, attach existing session)?
   - Support multiple simultaneous connections to the same project?

8. **Plugin Registration**: How should individual projects register themselves with the picker?
   - Automatic discovery via devcontainer.json scanning?
   - Explicit configuration in the wezterm plugin config?
   - Environment variables or a registry file generated by lace CLI?

## Related Documents

- [WezTerm Plugin Research](../reports/2026-02-04-wezterm-plugin-research.md) - Background on wezterm plugin capabilities
- [WezTerm Sidecar Workspace Manager](2026-02-01-wezterm-sidecar-workspace-manager.md) - Related project management infrastructure
- [Deeper WezTerm DevContainer Integration](2026-02-01-deeper-wezterm-devcontainer-integration.md) - Integration patterns
